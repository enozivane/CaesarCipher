<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="css/style.css">

  <title>Caesar's Cipher</title>
</head>

<body>
  <div class="mainContainer">
    <h1>Caesar's Cipher</h1>

    <label for="original">Original Messsage</label>
    <input id="original" type="text" value="">

    <label for="shift">Shift</label>
    <input id="shift" type="number" value="" placeholder="0">

    <hr>

    <label for="encrypted">Encrypted Message</label>
    <input id="encrypted" type="text" value="" readonly>

    <a class="pinguin" href="">
      <img src="assest/penguin.png">
    </a>
  </div>




  <script>
    let originalInput = document.querySelector("#original");
    let shiftInput = document.querySelector("#shift");
    let encryptedInput = document.querySelector("#encrypted");

    let originalMessage = originalInput.value;

    originalInput.addEventListener("input", characterEntered, true);

    function characterEntered(e) {
      // Ensure we only deal with lowercase letters
      originalMessage = e.target.value;
      originalMessage = originalMessage.toLowerCase();
      originalMessage = originalMessage.replace(/[^a-z]/, ' ');

      e.target.value = originalMessage;

      // Let's get the party started!
      startEncryption();
    }

    function startEncryption() {
      let encryptedMessage = "";
      let shift = shiftInput.value ? Number(shiftInput.value) : 0;
      console.log(shift);

      for (letter of originalMessage) {
        encryptedMessage += shiftLetter(letter, shift);
      }

      console.log(encryptedMessage);
      encryptedInput.value = encryptedMessage;
    }
    startEncryption();

    function shiftLetter(letter, shift) {
      let newLetter = "";

      let letterCode = letter.charCodeAt(0);
      let newLetterCode = letterCode + (shift % 26);

      if (newLetterCode < 97) {
        // If new letter goes below "a" aka character code 97
        newLetterCode += 26;
      } else if (newLetterCode > 122) {
        // If new letter goes past "z" aka character code 122
        newLetterCode -= 26;
      }

      newLetter = String.fromCharCode(newLetterCode);

      return newLetter;
    }
  </script>




</body>

</html>